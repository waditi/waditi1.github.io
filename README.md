# Отчет по лабораторным работам по курсу "Проектирование информационных систем"
## Выполнил студент группы ИДБ-16-07 Войтенко Вадим

# Лабораторная работа №1
Создание IDEF0-диаграммы "Создание скульптуры" в RAMUS (программное средство разработки структурно-функциональных моделей)
* IDEF0-диаграмма в развернутом виде:

![none](https://waditi1.github.io/index_files/model.png)



# Лабораторная работа №2
Создание IDEF0-диаграммы "Создание скульптуры" в RAMUS (программное средство разработки структурно-функциональных моделей), с последующей декомпозицией
* IDEF0-диаграмма PDC:

![none](https://github.com/waditi/waditi1.github.io/blob/master/%D0%9E%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D1%8F%20%D0%A1%D0%BE%D0%B1%D1%80%D0%B0%D1%82%D1%8C%20%D1%81%D1%82%D0%BE%D0%BB%20Ramus%20-%20LAB1.rsf_files/model.png?raw=true)

* DFD-диаграмма шага *Собрать стол*:

![none](https://github.com/waditi/waditi1.github.io/blob/master/%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%20%D0%A1%D0%BE%D0%B1%D1%80%D0%B0%D1%82%D1%8C%20%D1%81%D1%82%D0%BE%D0%BB%20Ramus%20-%20LAB1.rsf_files/model.png?raw=true)



# Лабораторная работа №3

Декомпозиция шага *Оценка выполненной работы* в процессе "Собрать стол" в RAMUS (программное средство разработки структурно-функциональных моделей)


* Диаграмма последовательностей сделанная с помощью инструмента PlantUML ([код](https://github.com/waditi/waditi.github.io/blob/master/lab3/seq.uml))

![](https://www.plantuml.com/plantuml/png/XLRBRjD055qpNp7g7h572Yhb8rYYYJDGguaTRAS58QIafGMKeaB50Y5H20lOEcbDGjealp3pHvovutSQiKZhZk_hFEwass4aWgZNQRDmp_Mw8X0TBfp83_WhTcT7E7lF0h_djHxvRHmztdKZoUuy30B_m9xij162G3zeoQ1yz9g9NkHxlKvJ1epPYbjgfCPggVlwlPgf-Jqzq8TggQxrcUvlSH7oqEcrkuXapF6zAF3RIFcf4dsi5YP1nLojT1yfYPeZTKRF4nMRr_gCgnky6EDphMPKBvBEhkS-xqd6cWQ525wYubSL8z4aNU7f7KLsfUUuRIQzo8rCp2TzX6gnkbInVI-wiZBMRupLnmo9-fEElYix8dATi1prsKGXPgAMQr6i9IBH5A4q82bgN4KpuVe3e2G4Qu5UiRfPnzXgXWUi67ozOo0FMe6xZ_7pe5z4tHmOYNiqZ4t35KY-JW4_xGMU6_K2-QGb8-6smqp3DT7a2r0JbT5ymRI80Zz7Q79YqQpKakk1rHzI9fJh-67KQXQ3NI0QMAtKKm36WvhgjrPzssvVj2joZZ3DE1Kq1P9pf4zBlW8OSgAxBo9PyaRcEdxtGUg3-rpzmDG3gmUGd3BxWaAC5H3nlN0YoukPW9B855ixooSedJKQN9thOQh0B7E1IhX-euz8eHd6m9CUyaO3te7gjgwT7VDiPhrF99gVXlr3mtx5HwoOfCO1yamWxHfOe7gW9SRcBA7A0YEZbAaveNqOKEHPbOzqjseS5ROig5qpNMq8iiMLyHv7zuHuWKHwg8zvWO-LYc-gUf5Q9YE4wcQR4xErb89h72B_79qJC96aCg64kTVwjPjfgUOiJpCrZ6v8_sR7JdMWXRg2iiWebJNwRIvBdXdb-nHN53KUgVIrIuhE8u9DVJA73N3FeESSVqrH-YPNgaXazbVLoQZsqMmSENQQAcAlH51OpYXuky05FaICSSvVdc_k5AadTK_UDdwv8MteYkwYKvhSRis2x53mQbxKziNEia44Mlkf-Mv8HQYmC_c_dh7X0B1cPbAZgdLi1Psz-2hGiYywuC7d4kcpzLagHSnLM0Sr8Xmpn2rf6zCRSLbShBVrliKL55y5QnAR6TgrcvQRNjpSKDGdOTlIQ-4VYty0)


# Лабораторная работа №4

Определение требований к модели

Формальное определение объекта моделирования (процесса) - создание системы веб-шаблонов.
Формальное определение точки зрения (владелец, руководитель) - программист.
Формальное определение цели моделирования (вопросы к модели) - как изменится производительность производительность подсистемы рассылок.
Формальное определение темы курсового проекта (наименование информационной системы) - Исследование методов повышения производительности систем веб-шаблонов и разработка системы шаблонизации на их основе
Разработка диаграмм в RAMUS

## Контекстная диаграмма
![](https://raw.githubusercontent.com/waditi/waditi.github.io/master/lab4/png/01_A0.png?raw=true)

## Декомпозиция процесса "Процесс обмена сообщениями между пользователями"
![](https://github.com/waditi/waditi1.github.io/blob/master/lab4/png/02_A0.png?raw=true?raw=true)

## Декомпозиция процесса "Определить протокол взаимодействия сторон"
![](https://github.com/waditi/waditi1.github.io/blob/master/lab4/png/03_A1.png?raw=true)

## Декомпозиция процесса "Идентифицировать стороны обмена"
![](https://github.com/waditi/waditi1.github.io/blob/master/lab4/png/04_A2.png?raw=true)

## Декомпозиция процесса "Мониторинг состояния передаваемых сообщений"
![](https://github.com/waditi/waditi1.github.io/blob/master/lab4/png/05_A3.png?raw=true)

## Декомпозиция процесса "Обработка исключительных ситуаций"
![](https://github.com/waditi/waditi1.github.io/blob/master/lab4/png/09_A4.png?raw=true)

# Лабораторная работа №4
Определение основных средств автоматизации
Определение конфигурации технических средств (рабочие станции, серверы, другое оборудование) - Сервер.
Определение конфигурации программных средств (одноуровневые, многоуровневые, встроенные, распределенные) - Многоуровневые, распределённые.
Определение допустимых видов хранилищ и их размещения - Таблицы в базе данных на сервере базы данных
Разработка диаграмм в RAMUS

## DFD-декомпозиция процесса "Планироващик"
![](https://github.com/waditi/waditi1.github.io/blob/master/lab4/png/06_A31.png?raw=true)

## DFD-декомпозиция процесса "Сохранение логирующей информации"
![](https://github.com/waditi/waditi1.github.io/blob/master/lab4/png/07_A32.png?raw=true)

## DFD-декомпозиция процесса "Анализ выполнения задачи"
![](https://github.com/waditi/waditi1.github.io/blob/master/lab4/png/08_A33.png?raw=true)

# Лабораторная 6

## Завершение идентификации всех потоков
Построение ERD (диаграммы классов без атрибутов) для всех потоков
![](http://www.plantuml.com/plantuml/png/bLJDJjjA55upJs6nPs43kxk017Y1kxWRDiPnmCBnN8rjiMWhGUYFK6YfAgIYgbBLdmS853Sc4FCAPzwev-ZOZaU4XYvYPRxvlk_ypCnPYnDN9Mal5F5-4FtlAhTdUQ4RnzOpiT1olVrT9TEeqvQXLDP_Uq7YYuLrfUG18wqGAKYKgkEh9lH22BRfk8cx5Se3ousjHVW2XUv30MF85oj64ErG22PyqAzm-rgVwHF88LiiEPwC4YL3vdo7Utq8GxY2M-IzCvaoJGoxWMdOYDgLpBc0YNu91LhUmL2_XboVDS9sWzrKkKaW8sP_WeBuwFLJ7wF6K72v_oOgzP9K-QpugllwK1_3MFTPiHt1DQO_WGbbLocxGLW984FgQRMX_5YcolEd5Rt1Y4TmYzy-PDY4KtA2R3j2zqmVKHJy3kgSfCVQS-eyPd876Ihwn2WfwpOpVi172meBp-cyKhViFnQEGT_264QGeUqzdGYNI6U4t5jK_Q9mpIQrd7cMHzG2b5rHXzYilZa5aEaLiGYX7PWWfu1BhWo6TQ3bUO7mSf3DLD8ko_qC6VjZKKMp3CYU4hdjr6V9XI3fvc4XZuZBjDzZidq-AyWfVHGDbp0yPa-XgsE7t4BWUZwpSV6cBsQZhFZYeGDNgGSef2xGJHjHxs78Dmz_DxMDKzfKpQcFig0QzGctho4eg_o6L4fgXDyn9GnvJLbvvFpO6yRq23XfIgkMhPRJvYdDtYpBFvzsXhevGlObGYCzi6Ozrqrdjgo-lBarAzgM_TVFc1o9IIoumqTh2L5FrN-UBorL4zH4gvbfelLy5A9KLHPTQI8qZqp4c6sYj2-tf6S2v6SYnYmLLHhpzoWF4p8JCVVgQIa4fS1OssukdEPYMP0_BpRivi9fBWpQIdEnAeni6DsqPwAEgB9ZOCiMHkMCjcQZpanqMM3h-V-wBSHUqF6jdj_RyLNC2ozGNkXN6ycUxCHYpOywQI_y3G00)
[Загрузка модели и диаграммы классов в репозиторий](https://github.com/waditi/waditi.github.io/blob/master/lab5/streams.uml)

## Завершение идентификации всех ролей
Построение ERD (диаграммы классов без атрибутов) для всех ролей
![](http://www.plantuml.com/plantuml/png/PL5DpX9145r_VOeEUsxW0j2b2wCODsxQcGvCw1zItSGGDK5TGdHBuiAV4w0o4H3c3DKtiZezWpDycydqUwzULRqQE2_0BxHYRbQOkG2XUQQ4S_mDknk9R3O1kp3vGwiiy1VJmajsDmImhnCoKYGXeOLSGXjwnvBBKwkauyBn7dx32l_YeLSpJoGuQshkI_Y4-__Ss5fLCzlmFdm8g_0HprZYXVxNBmt-8gy_k2Va67bw7yBdgpFO2UsX9IIBhs55yj_qtP79cQHKqeWVILTCJ2FTuWyU1o5jYISohiAADz9dI-Ub7kQwC8Np8BojgxudIoevquHhFDA4ExAXLdX9N6oUx1gtvqw2gmUCoOGDRLJH9b5NjfCQIprNmilKlxLJDCHJBAQ65VvC4U7kMWZ2kBa5_rWivNNMagRPt1QmTAW7R_lzvZ8jA1s4iSGah1rpbsWYxQBtq-iAKY2CnLO9kLcypNGtOsnQv99hgL-HHNfa1MHADeIVsjonWJJvGgj_)
[Загрузка модели и диаграммы классов в репозиторий](https://github.com/waditi/waditi.github.io/blob/master/lab5/roles.uml)

## Завершение идентификации всех модулей
Построение ERD (диаграммы классов без атрибутов) для всех модулей
![](http://www.plantuml.com/plantuml/png/ZLJDQjj043vddqBu7eZyan_e8KsXz99pBxsebgXDPAb8DZsqXTXjMe9BIw6dKWg5Fe1Y8gBOblmAis_K6LQxiIVhaelDz-qtt_piQ8_JePSCHuDGf6VzwBMNU0Ed6tffwhmLEoTUz-nL4eyY_qaSnedplDSV1cBdSPB4RnHp4g84XN7Y1yawzLuebzFO7uL1wdYfqu1VKC6r_00BA1hr-TDHr1tsuqW9_k9X2NFv2OexoJClyiCWKOhVS2NF8OChgEH4VaRTl26qbtlFHNvpNaImmf0APf3Z_nmAfEH7g10i8PCJo8WOew92yql8eQH0Ks7Jk6fFhR-1QyYWh2c46H5K5S4IuKnEOONA1PJA5tBZsx9NI-sXEzMSersEiRd9WOP4BnL51C-Wowl3Yut2JEwsFJTr9I-e0kuseKaX7DCl3T5OTInMkh0ReB5d1Alx5mSPcnhUf5uRbssC_8BQDOEf8ySKlI81p57m5Htgac6f-fuxy1r-DBHdq-R9wZJT5x2KKtbXrWSRoobCdXk_bjMlW59EQDLmntAubMFotZ81EZ9sRPlTzWklDgu8gOMgM-swl5GJDkuTgtj5GrEhmjSfjopsVnFfJFkMJAnxMg0jUyMlcLH09Sv8jTRGmROqzR3iNpMjXh4uj5hyWP-qD5fqjEsMeQ1bXuoUCneHeJLpTyyQI6_2X7g3d9hMOzJlo5su--0nqc0sFm6unVhrq_letUwkUMStMFsq2g6FQx7BYIOdMfneSw8ZH6slY5ENuIR3BORR37SOtcVuWE53XezuFNkSS8KGlRuVE8DWy398KWMw_QGR1lfWs8lzL1m7aJyQXFy0)
[Загрузка модели и диаграммы классов в репозиторий](https://github.com/waditi/waditi.github.io/blob/master/lab5/modueles-functions.uml)


# Курсовая работа

В данной курсовой работе рассматривается автоматизация процесс обмена сообщениями по сети в многопользовательской системе с асинхронного обработчика задач. Родительским процессом в котором применяется система автоматизированная информационная система обмена сообщениями, пользовательский процесс иницирубщий обмен. Показателем качества для данного процесса является время от отправки серверу сообщения до доставки сообщения получателям и сохранения в БД. «Узким» местом данного процесса является приоретизация обработки задач планировщиков, так помимо обычных сообщений в системе происходят внутренние события, которые также нужно обрабатывать и рассылать результаты сторонам обмена.
Без использования средств автоматизации используются следующие утверждения относительно интенсивности используемых потоков:
1. Входной поток «Сообщения (пакет)» - утверждает стороны обпена, в частности, их идентификационные и аутентификаиционные данные, а также непосредственно сообщение, которые должно обыть отправлено или получено, в зависимости от роли.

2. Поток различных событий – события требуемые для определения статусов сообщений, пользователей, ошибках и т.д.  

3. Поток механизмов –  количество экземпляров сервисов по обработке сообщений пользователей и СУБД, а также правильный выбор плана для обработки задач асинхронным планировщиком. Интересуемая метрика – время выполнения задачи в милесекундах. 




Так, например, если считать при линейном выполнении 10000 запросов (полученных за 1 секунду) на отправку сообщений при услвии вреднего времени обработки запроса в 27мс займет:

10000 * 27 = 270000мс или 270 секунд

Учитывая, что для обработки первоначальной нагрузки при запуске проекта будет работать 10 экземпляров сервисов с  шардированием БД по групповым ключам пользователей, и будем считать, что нагрузка со стороны БД упадет примерно до на 70% на каждый шард, то:

(10000 / 10) * (27 * 0.7) = 18900мс или 18 секунд

В случае повышения нагрузки на систему, подготовка и выделение ресурсов для запуска новых инстансов и шарда требует около 30 минут. И если представить, что нагрузка растет примерно на 30% в месяц в начале старта проекта, то в месяц у нас получится около 3-4 раз увеличения инстансов сервисов. Это поведение сложно контролируемо при нелинейных нагрузках и требует больших трудозатрат при мониторинге и не приемоимо в связи с не рационльным объемом используемых ресурсов.

## Использование средства автоматизации делает возможным следующие утверждения относительно интенсивности используемых потоков:


1. Входные поток «Пакет и идентификаторы сторон обмена» - утвержденный новую задачу процесса обмена между сторонами обмена.

2. Задача - особым образом структурированный объект, используемый для внутреннего представления ситстемы, которой необходимо выделить достаточное количество ресурсов и времени для ее исполнения. Полностью заменяет поток пакетов.

3. Поток механизмов – количество экземпляров, обработчиков, потоков и шардов БД, задача которых задача которых получить, доставить, сохранить и предоставить за минимальное время, при этом предоставить возможность выполнять это асинхронно но с иерархией создаваемых событий в системе. Учитывая, что для обработки первоначальной нагрузки при запуске проекта будет работать 10 экземпляров сервисов с шардированием БД по групповым ключам пользователей, и будем считать, что среднее время передачи сообщения 27мс, нагрузка со стороны БД упадет примерно до на 70% на каждый шард и при этом будет введена асинхронная обработка задач и записи их в БД увеличивающая пропускную способность на каждом экземпляре до 30%. Если предположим, что за 1 секунду будет получено 10000 сообщений, тогда получится:

(10000 / 10) * (27 * 0.7) * 0.3 = 5670мс или 5.7 секунд

То есть, даже на этом этапе, можно увидеть существенное уменьшение временных затрат на обработку сообщений. 

Далее распараллелим процессы передачи данных с процессов сохранения, тогда получим, что время выполнения одного запроса сократится на 40%, то есть 27  * 0.4:

(10000 / 10) * (27 * 0.4 * 0.7) * 0.3 = 2268мс или 2.7 секунды


Таким образом, внедрение системы асинхронной обработки сообщений в процесс обмена сообщениями поможет снизить время обработки запросов экземплярами системы и распределит наиболее равномерно нагрузку.

## Общий эффект от автоматизации в процентах:
На 10000 запросов в секунду:
18900 / 2268 * 100= 883 %.

## Определение числа и сложности функциональных точек для модулей и хранилищ

| #   	  | Наименование           | Транзакций | Данных | UFP 	  |
|---------|------------------------|------------|--------|--------|
| A41 	  | Валидировать данные    | 3          | 2      | 27  	  |
| A42 	  | Подготовить веб-шаблон | 4          | 4      | 39  	  |
| A43 	  | Шаблонизировать        | 5          | 6      | 75  	  |
| **A4**  | **Итого**              | **12**     |**12**  |**141** |

**Расчет сложности разработки методом FPA/IFPUG**

<table>
<tr>
<th>Опеределение характеристик продукта</th>
<th>Подведение итогов</th>
</tr>
<tr>
<td>

|                     Характеристика | Значение |
|-----------------------------------:|----------|
|                      Обмен данными | 5        |
|           Распределенная обработка | 4        |
| Производительность (время отклика) | 4        |
|             Ограничения аппаратные | 3        |
|            Транзакционная нагрузка | 5        |
|     Взаимодействие с пользователем | 2        |
|                         Эргономика | 3        |
|     Интенсивность изменения данных | 1        |
|                Сложность обработки | 3        |
|            Повторное использование | 4        |
|               Удобство инсталляции | 3        |
|         Удобство администрирования | 2        |
|                      Портируемость | 4        |
|                           Гибкость | 2        |
|                          **Итого** | **45**   |

</td>                                                
<td>                                           

|                  		  Показатель | Значение |
|-----------------------------------:|----------|
|                  		         VAF | 0.79     |
|                  		         UFP | 141      |
|                  		         CFP | 11       |
|                  		         DFP | 120      |
|                  		         AFP | 111      |
| SLOC язык Python соотнош. 50 SLOC/FP | 5550     |
|                               KLOC | 6        |

</td>
</tr>
</table>

**Расчет трудозатрат на разработку "с нуля" методом COCOMO II**
<table>
<tr>
<th>Опеределение факторов масштаба</th>
<th>Опеределение множителей трудоёмкости</th>
</tr>
<tr>
<td>

|              Фактор масштаба | Значение  |    
|-----------------------------:|-----------|    
|  опыт аналогичных разработок | 2.48      |    
|            гибкость процесса | 3.04      |    
|            разрешение рисков | 1.41      |    
|        сработанность команды | 1.10      |    
|           зрелость процессов | 4.68      |    
|                       **SF** | **12.71** |    
|                        **E** | **1.04**  |    
                                                
</td>                                                
<td>                                           

|         Множитель трудоёмкости | Значение        |
|-------------------------------:|-----------------|
|         квалификация персонала | 1.5             |
|           надежность продукта  | 1.91            |
|        повторное использование | n/a             |
| сложность платформы разработки | 1.1             |
|                 опыт персонала | 1.1             |
|      оборудование коммуникаций | 0.73            |
|              сжатие расписания | 1.13            |
|                         **EM** | **5.13**        |
|                         **PM** | **3 чел/мес** |
|                       **TDEV** | **6 мес** 	    |
</td>
</tr>
</table>


## Вывод:

В свзяи с тем, что работа мессенджера хорошо шардируется в БД, например ключом может быть год регистрации клиента (можно меньше) - это уже позволяет должным образом распределить нагрузку. Доступ к данным будет производиться из проксирующей БД, которая будет содержать в себе секционированные таблицы по Foreign Tables шардов.
Непосредственно в самом приложении есть возможность выполнять асинхронно и параллельенно некоторые процессы на разных уровнях.
На уровне передачи сообщения возможно выполнять параллельно (два потока) процесс передачи и сохранения в БД. Запись в БД занимает наибольшее время в выполнении запроса, поэтому это точно целесообразно.
На уровне обработки задач планировщика можно разработать планировщик, который будет работать по примитивному принципу разбора очередей или непосредственно планировщика, выделяющего время системы на выполнение некоторой задачи. Наболее простой и быстрый способ является первый (планировщик по приципу очередей), его мы и рассмотрим. В процессе работы с объектами, в которые нужно что-то писать или читать, появляются блокирующие функции. Эти функции останавливают процесс выполнения кода до появляения данных, снятия блокировки и т.д. Поэтому целесообразно разработать обработчики задач, которые являются итерируемыми объектами, которые терминируются и запоминают свое состояние перед процессом термененирования и данный объект кладется в очередь. Далее из очереди будет браться первый освободившийся (или случайно выбранный по некоторому алгоритму) объект с задачей, который будет выполняться до следующей блокирующей функции. Именно это позволит одному экземпляру обрабатывать в разы большее количество подключений и запросов.
